import { useMutation, useQuery, UseMutationOptions } from "react-query";
import { fetcher } from "@util/fetcher";
import { <%= p.pascalName %> } from "@lib/<%= p.camelName %>/data/<%= p.camelName %>Schema";

export const create<%= p.pascalName %> = async (input: <%= p.pascalName %>, config = {}) => {
  const { data } = await fetcher.post<<%= p.pascalName %>>("/<%= p.pluralName %>", input, config);
  return data;
}

export const use<%= p.pascalName %>Create = (
  options?: UseMutationOptions<<%= p.pascalName %>, Error, <%= p.pascalName %>>
) => {
  return useMutation(create<%= p.pascalName %>, options);
};

export const get<%= p.pascalName %>List = async (config = {}) => {
  const { data } = await fetcher.get<<%= p.pascalName %>[]>("/<%= p.pluralName %>", config);
  return data;
};

export const use<%= p.pascalName %>List = (options?: UseQueryOptions<<%= p.pascalName %>[], Error>) => {
  return useQuery("<%= p.camelName %>List", get<%= p.pascalName %>List, options);
};
